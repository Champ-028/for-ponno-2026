<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy New Year Ponno</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: radial-gradient(circle, #1a1a2e, #16213e, #0f3460);
            font-family: 'Poppins', sans-serif;
            color: white;
            text-align: center;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Floating Hearts Background */
        .heart {
            position: fixed;
            color: #ff4d6d;
            font-size: 20px;
            z-index: -1;
            user-select: none;
            animation: float 6s linear infinite;
            opacity: 0;
        }
        @keyframes float {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        .page {
            display: none; 
            padding: 20px;
            width: 100%;
            box-sizing: border-box;
        }
        .active { display: block !important; animation: fadeIn 0.8s ease-in-out; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .container {
            margin-top: 15vh;
            padding: 30px;
            border-radius: 20px;
            background: rgba(255, 77, 109, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 77, 109, 0.3);
            display: inline-block;
        }

        /* STEP 6: BABY PINK FINAL PAGE */
        #finalPage {
            background: #ffdae0; /* Baby Pink */
            color: #d63384;
            min-height: 100vh;
        }
        #finalPage .container {
            background: rgba(255, 255, 255, 0.6);
            border: 2px solid #ffb6c1;
            margin-top: 10vh;
        }

        .btn-next, .btn-open {
            padding: 15px 30px;
            font-size: 1.1rem;
            background: #ff4d6d;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px 0;
            box-shadow: 0 0 20px rgba(255, 77, 109, 0.6);
            transition: 0.3s;
        }

        .memory-box {
            background: rgba(255, 77, 109, 0.08);
            border: 1px solid rgba(255, 77, 109, 0.4);
            padding: 20px;
            margin: 20px auto;
            max-width: 550px;
            border-radius: 15px;
            text-align: left;
        }

        .photo-grid img {
            width: 90%;
            max-width: 420px;
            border-radius: 20px;
            margin-bottom: 25px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.5);
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
    </style>
</head>
<body onload="createHearts()">

    <audio id="bgMusic" loop>
        <source src="https://files.catbox.moe/ovg6vi.mp3" type="audio/mpeg">
    </audio>
    <audio id="photoMusic" loop>
        <source src="https://files.catbox.moe/uzv4pm.mp3" type="audio/mpeg">
    </audio>

    <div id="page1" class="page active">
        <div class="container">
            <h1>A Surprise for You! üéÅ</h1>
            <p>Turn up your volume and click below</p>
            <button class="btn-open" onclick="startSequence()">Open 2026 Message</button>
        </div>
    </div>

    <div id="page2" class="page">
        <h2 style="color: #ff4d6d;">What we have done together... ‚ú®</h2>
        <div class="memory-box">
            <h3>1. The First Meeting</h3>
            <p>I first saw you at our admission time, but just for that one moment. Then we met at the Mallu Meeting; the first time I saw you there, I felt something special. That was where our conversation truly started.</p>
        </div>
        <div class="memory-box">
            <h3>2. The Kitten at the Tank</h3>
            <p>Your parcel had arrived and we went to pick it up. We heard a kitten crying near the tank; you rushed there first, and I was right behind you to help. You told me later that was the moment you started having a crush on me. It was the same with Oreo‚Äîwe were both there for him, and look at our Oreo kuttapan now!</p>
        </div>
        <div class="memory-box">
            <h3>3. Kapish Junction & Moonlight</h3>
            <p>Remember when we talked about the difficult caste-related things? You cried, and I cried too because I was so scared of losing you. Then the lights went out, leaving only the moonlight. A romantic song started playing, and we shared our kiss‚Äîthis was mandatory cause namal rand perm nala down ayit irikuvayirunu. It remains the best moment of my life.</p>
        </div>
        <div class="memory-box">
            <h3>4. Birthdays</h3>
            <p>We‚Äôve celebrated our birthdays together and we both know the effort we put into gifting each other. And of course, the common factor in all our joy‚ÄîSagu!</p>
        </div>
        <div class="memory-box">
            <h3>5. The "Yes"</h3>
            <p>I remember it was 5th September around 3 am morning we had completed our dance practice and we were splitting apart i walked few steps and you also and then ni vilichu Pranav i heard it and we came to that spot ni ente nenjil kayy vechit paranyu Yes and ponno you wont believe how much happy and how much crazy i was at that time. Thank you.</p>
        </div>
        <button class="btn-next" onclick="showPage('page3')">Now let's see some photos üì∏</button>
    </div>

    <div id="page3" class="page">
        <h2 style="color: #ff4d6d;">Instead of 12 Grapes under the table here are some memories üì∏</h2>
        <div class="photo-grid">
            <img src="https://i.postimg.cc/nVNQy09v/Whats-App-Image-2025-10-19-at-7-53-58-PM.jpg">
            <img src="https://i.postimg.cc/WzZtpcqN/1000006185.jpg">
            <img src="https://i.postimg.cc/8zLhRHVw/20250912-195602.jpg">
            <img src="https://i.postimg.cc/3xkqYzpP/Whats-App-Image-2025-10-19-at-7-52-46-PM.jpg">
            <img src="https://i.postimg.cc/fbkzTQ6V/20251019-215922.jpg">
            <img src="https://i.postimg.cc/JnZWGrK8/20251021-122348.jpg">
            <img src="https://i.postimg.cc/bw7CdQ5z/20251001-212025.jpg">
            <img src="https://i.postimg.cc/Zq8zz1zZ/20251002-093210.jpg">
            <img src="https://i.postimg.cc/nLx46Tgb/IMG-20251027-WA0071.jpg">
            <img src="https://i.postimg.cc/Kzqt3bzb/IMG-20251113-WA0253.jpg">
            <img src="https://i.postimg.cc/nVWvHngz/1000018951.jpg">
            <img src="https://i.postimg.cc/sDjX64SL/20251019-220147.jpg">
        </div>
        <button class="btn-next" onclick="triggerIgnite()">Ready for 2026? ü•Ç</button>
    </div>

    <div id="finalPage" class="page">
        <div class="container">
            <h1 style="font-size: 2.5rem;">Happy New Year, Ponno! ‚ù§Ô∏è</h1>
            <div style="font-size: 1.2rem; line-height: 1.8; padding: 10px;">
                <p><b>As the new year begin i just want to tell ente koode thaney kananam ENNUM EPPOZHUM ü•π</b></p>
                <p>Every moment with you is a gift. Let's make 2026 our best year yet.</p>
                <p>I love you forever.</p>
            </div>
            <h2 style="margin-top: 30px;">Thank you for loving me ‚ù§Ô∏è</h2>
        </div>
    </div>

    <script>
        function createHearts() {
            for (let i = 0; i < 20; i++) {
                let heart = document.createElement("div");
                heart.className = "heart";
                heart.innerHTML = "‚ù§";
                heart.style.left = Math.random() * 100 + "vw";
                heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
                heart.style.delay = Math.random() * 5 + "s";
                document.body.appendChild(heart);
            }
        }

        function showPage(pageId) {
            const mainMusic = document.getElementById('bgMusic');
            const photoMusic = document.getElementById('photoMusic');

            // Hide all pages
            document.querySelectorAll('.page').forEach(p => {
                p.classList.remove('active');
                p.style.display = 'none';
            });

            // Show active page
            document.getElementById(pageId).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });

            // Handle Audio Switching
            if (pageId === 'page3') {
                // Switch to Photo Music
                mainMusic.pause();
                photoMusic.play().catch(e => console.log("Audio play blocked by browser"));
            } else {
                // Switch back to Main Music (if not already playing)
                photoMusic.pause();
                // We only play if startSequence has already been triggered
                if(mainMusic.paused && pageId !== 'page1') {
                    mainMusic.play().catch(e => console.log("Audio play blocked"));
                }
            }
        }

        async function startSequence() {
            document.getElementById('bgMusic').play();
            confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

            await Swal.fire({
                title: 'üéâ Happy New Year Ponno! üéâ',
                text: '365 new days are coming, and I want to spend every single one of them making you feel as special as you make me feel!',
                background: '#1a1a2e',
                color: '#fff',
                confirmButtonColor: '#ff4d6d'
            });

            await Swal.fire({
                title: 'A Note for You',
                text: 'To my Kuchupuchu. Thank you for coming to my life as a friend first then as my love. You have supported me at every down phase. You have trusted me. You have scolded me when i was wrong. You have done many things to make me happy and I LOVE YOU',
                background: '#16213e',
                color: '#fff',
                confirmButtonText: 'Wait...',
                confirmButtonColor: '#ff4d6d'
            });

            await Swal.fire({
                title: 'One more thing...',
                text: 'I want to show you our journey.',
                confirmButtonText: 'lets explore what all things we have done together',
                confirmButtonColor: '#ff4d6d',
                background: '#1a1a2e',
                color: '#fff'
            });

            showPage('page2');
        }

        async function triggerIgnite() {
            const { isConfirmed } = await Swal.fire({
                title: 'Ready for 2026?',
                html: '<b>A new chapter is waiting for us</b>',
                confirmButtonText: 'Ignite the sparks ‚ú®',
                confirmButtonColor: '#ff4d6d',
                background: '#1a1a2e',
                color: '#fff',
                showCancelButton: false
            });

            if (isConfirmed) {
                var duration = 3 * 1000;
                var end = Date.now() + duration;
                (function frame() {
                    confetti({ particleCount: 10, angle: 60, spread: 55, origin: { x: 0 }, colors: ['#ffd700', '#ff4d6d'] });
                    confetti({ particleCount: 10, angle: 120, spread: 55, origin: { x: 1 }, colors: ['#ffd700', '#ff4d6d'] });
                    if (Date.now() < end) requestAnimationFrame(frame);
                }());

                let timerInterval;
                Swal.fire({
                    title: 'Closing 2025 on a good note...',
                    html: 'Preparing our future... <b>0</b>%',
                    timer: 4000,
                    timerProgressBar: true,
                    background: '#1a1a2e',
                    color: '#fff',
                    didOpen: () => {
                        Swal.showLoading();
                        const b = Swal.getHtmlContainer().querySelector('b');
                        let progress = 0;
                        timerInterval = setInterval(() => {
                            progress += 1;
                            if(progress <= 100) b.textContent = progress;
                        }, 35);
                    },
                    willClose: () => { clearInterval(timerInterval); }
                }).then(() => {
                    showPage('finalPage');
                    confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
                });
            }
        }
    </script>
</body>
</html>


